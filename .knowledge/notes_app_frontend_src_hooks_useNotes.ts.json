{"is_source_file": true, "format": "TypeScript", "description": "This file is a React hook module for managing notes, authentication, and export flow in a notes application. It defines state management logic, helper functions, and exports a custom hook useNotes for use in React components.", "external_files": ["../types", "../api/notesApi", "../api/auth"], "external_methods": ["fetchNotes", "saveNotes", "getAuth", "loginMock", "logoutMock"], "published": ["useNotes", "defaultTheme"], "classes": [], "methods": [{"name": "export function useNotes(): UseNotes { useNotes", "description": "Custom React hook managing notes, authentication, and export functionalities including CRUD operations, selection, mock auth, and export flow.", "parameters": null, "scope": "", "scopeKind": ""}, {"name": "safeRandomId", "description": "Generates a unique identifier for notes, using crypto.randomUUID if available, otherwise falling back to a combination of Math.random and timestamp.", "parameters": null}, {"name": "newNoteTemplate", "description": "Creates a new note object with default properties including a generated id, title, content, color, and timestamp.", "parameters": null}], "calls": ["fetchNotes", "saveNotes", "getAuth", "loginMock", "logoutMock", "win.alert"], "search-terms": ["useNotes", "notesApi", "auth", "exportVideo", "Note management", "React hook"], "state": 2, "file_id": 20, "knowledge_revision": 74, "git_revision": "", "revision_history": [{"42": ""}, {"71": ""}, {"72": ""}, {"74": ""}], "ctags": [{"_type": "tag", "name": "UseNotes", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^type UseNotes = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "addNote", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const addNote = useCallback(() => {$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "authInfo", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [authInfo, setAuthInfo] = useState<AuthInfo>(getAuth());$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "c", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const c: any = g?.crypto;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const clearAll = useCallback(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^      const data = await fetchNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "defaultTheme", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^export const defaultTheme: Theme = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const deleteNote = useCallback((id: string) => {$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "exportVideo", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const exportVideo = useCallback(async () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isExporting", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [isExporting, setIsExporting] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const login = useCallback((name: string) => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const logout = useCallback(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "newNoteTemplate", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^const newNoteTemplate = (): Note => ({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [notes, setNotes] = useState<Note[]>([]);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "safeRandomId", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^const safeRandomId = () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "selectNote", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const selectNote = useCallback((id: string) => setSelectedId(id), []);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [selectedId, setSelectedId] = useState<string | null>(null);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "setAuthInfo", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [authInfo, setAuthInfo] = useState<AuthInfo>(getAuth());$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "setIsExporting", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [isExporting, setIsExporting] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "setNotes", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [notes, setNotes] = useState<Note[]>([]);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "setSelectedId", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const [selectedId, setSelectedId] = useState<string | null>(null);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^  const updateNote = useCallback((id: string, data: Partial<Note>) => {$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "useNotes", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^export function useNotes(): UseNotes {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "win", "path": "/home/kavia/workspace/code-generation/video-notes-manager-16752-16828/notes_app_frontend/src/hooks/useNotes.ts", "pattern": "/^      const win: any = g?.window;$/", "language": "TypeScript", "kind": "constant"}], "hash": "02631f2a110df9d7360cf92e1de8e912", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/hooks/useNotes.ts"}